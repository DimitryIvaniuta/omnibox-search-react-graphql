/* Ensure the group can host an overlay */
.omnibox-group {
  position: relative;
  border-radius: 50rem; /* pill */
}

/* Animated primary border rail (grows left â†’ right) */
.omnibox-group::after {
  content: "";
  position: absolute;
  inset: -1px;                     /* extend by border width */
  border: 1px solid var(--bs-primary);
  border-radius: 50rem;
  pointer-events: none;            /* never blocks clicks */
  transform: scaleX(0);            /* hidden initially */
  transform-origin: left center;   /* animate from left */
  transition: transform 320ms ease;
}

/* When input (or clear button) is focused, reveal the rail */
.omnibox-group:focus-within::after {
  transform: scaleX(1);
}

/* Prevent input from causing layout shift */
.omnibox-input { flex: 1 1 auto; min-width: 0; height: 45px; }
.omnibox-input:focus { outline: 0; box-shadow: none; }

/* Clear button fades without affecting layout */
.omnibox-clear-btn { opacity: 0; pointer-events: none; transition: opacity .15s ease; }
.omnibox-clear-btn.is-visible { opacity: 1; pointer-events: auto; }

/* Hide the original per-segment borders so the rail looks continuous */
.omnibox-group:focus-within .omnibox-label,
.omnibox-group:focus-within .omnibox-input,
.omnibox-group:focus-within .omnibox-clear-wrap {
  border-color: transparent !important;
}

/* Optional: subtle glow while focused (keep if you like) */
.omnibox-group:focus-within {
  box-shadow: 0 0 0 .1rem rgba(13, 110, 253, .15);
}

/* Keep your existing styling for slim dropdown scrollbar, etc. */
#omnibox-dropdown {
  scrollbar-width: thin;
  scrollbar-color: rgba(13, 110, 253, .15) transparent;
  border-color: rgba(13, 110, 253, .15);
}
#omnibox-dropdown::-webkit-scrollbar { width: 6px; }
#omnibox-dropdown::-webkit-scrollbar-track { background: transparent; }
#omnibox-dropdown::-webkit-scrollbar-thumb {
  background-color: rgba(13, 110, 253, .15);
  border-radius: 2px;
  border: 1px solid transparent;
  background-clip: content-box;
}
#omnibox-dropdown::-webkit-scrollbar-thumb:hover { background-color: rgba(0,0,0,.45); }
#omnibox-dropdown::-webkit-scrollbar-thumb:active { background-color: rgba(0,0,0,.55); }
